<div class="row justify-content-center">
  <div class="col-md-4">
    <div class="card shadow-sm p-4">
      <h3 class="text-center mb-4">Đăng ký</h3>

      <form id="registerForm">
        <input name="username" class="form-control mb-3" placeholder="Username" required />
        <input name="password" class="form-control mb-3" placeholder="Password" required />
        <input name="email" class="form-control mb-3" placeholder="Email" required />
        <input name="first_name" class="form-control mb-3" placeholder="First name" />
        <input name="last_name" class="form-control mb-3" placeholder="Last name" />
        <input name="phone_number" class="form-control mb-3" placeholder="Phone number" />
        <input name="address" class="form-control mb-3" placeholder="Address" />

        <button class="btn btn-success w-100">Đăng ký</button>
      </form>

      <p class="text-center mt-3">
        Đã có tài khoản? <a href="/auth/login">Đăng nhập</a>
      </p>
    </div>
  </div>
</div>

<script>
document.getElementById("registerForm").addEventListener("submit", async (e) => {
  e.preventDefault();

  const formData = Object.fromEntries(new FormData(e.target));

  const res = await fetch("http://217.216.72.223:3000/api/auth/register", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify(formData)
  });

  const data = await res.json();

  if (data.error) {
    alert(data.error);
    return;
  }

  alert("Đăng ký thành công! Vui lòng đăng nhập.");
  window.location.href = "/auth/login";
});
</script>
